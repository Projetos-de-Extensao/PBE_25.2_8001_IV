# üè† Plataforma CASA - Sistema de Gest√£o de Monitorias

**C√≥digo da Disciplina**: IBM8936  
**Status**: ‚úÖ Em Produ√ß√£o

---

## üìã Sobre o Projeto

A **Plataforma CASA** √© um sistema completo de gerenciamento de monitoria acad√™mica desenvolvido com Django 5.2 e Django REST Framework. O sistema oferece uma solu√ß√£o integrada para gerenciar todo o ciclo de vida da monitoria, desde a publica√ß√£o de vagas at√© o controle de pagamentos.

### üéØ Problema Resolvido

Antes da Plataforma CASA, o processo de monitoria era manual, demorado e propenso a erros:
- Candidaturas em papel ou email desorganizados
- Controle de horas em planilhas Excel
- Pagamentos processados manualmente
- Falta de rastreabilidade e relat√≥rios

### ‚ú® Solu√ß√£o Oferecida

Sistema web completo que digitaliza e automatiza todo o processo de monitoria acad√™mica.

---

## üë• Integrantes

| Nome | Fun√ß√£o | GitHub |
|------|--------|--------|
| Anderson Lima | Backend, DevOps, FrontEnd | [@anderson](https://github.com/anderson) |
| Jo√£o Pedro Campos | Full Stack, API | [@joao](https://github.com/joao) |
| Bernardo Casanovas | Frontend, UX, analista de dados | [@bernardo](https://github.com/bernardo) |
| Gabriel Caruzo | Database, Reports, DevOps, Scrum Master | [@gabriel](https://github.com/gabriel) |

---

## üöÄ Stack Tecnol√≥gica

### Backend
- **Django 5.2.7** - Framework web principal
- **Django REST Framework 3.15.2** - API REST
- **Python 3.10+** - Linguagem de programa√ß√£o
- **PostgreSQL** - Banco de dados (produ√ß√£o)
- **SQLite3** - Banco de dados (desenvolvimento)

### API & Documenta√ß√£o
- **drf-yasg 1.21.7** - Documenta√ß√£o Swagger/ReDoc
- **django-cors-headers 4.0+** - CORS para frontend
- **WhiteNoise 6.8.2** - Servir arquivos est√°ticos

### Frontend
- **Bootstrap 5.3.0** - Framework CSS responsivo
- **Font Awesome 6.4.0** - √çcones vetoriais
- **Chart.js 3.x** - Gr√°ficos interativos
- **jsPDF 2.5.1** - Gera√ß√£o de PDFs
- **XLSX 0.18.5** - Exporta√ß√£o para Excel

### Deploy & Infraestrutura
- **Heroku** - Cloud Platform (PaaS)
- **AWS RDS PostgreSQL** - Banco de dados em produ√ß√£o
- **Git/GitHub** - Controle de vers√£o
- **GitHub Actions** - CI/CD (opcional)

---

## üé≠ Perfis de Usu√°rio

O sistema possui 4 perfis distintos com permiss√µes e funcionalidades espec√≠ficas:

### 1Ô∏è‚É£ Aluno (Candidato)
**Funcionalidades:**
- ‚úÖ Visualizar vagas dispon√≠veis no portal
- ‚úÖ Candidatar-se √†s vagas com upload de documentos
- ‚úÖ Acompanhar status das candidaturas em tempo real
- ‚úÖ Receber feedback de avalia√ß√µes

**Menu de Acesso:**
```
üìä Dashboard
üì¢ Portal de Vagas
üìù Minhas Inscri√ß√µes
üë§ Perfil
```

### 2Ô∏è‚É£ Monitor (Aluno Selecionado)
**Funcionalidades:**
- ‚úÖ Todas as funcionalidades de Aluno
- ‚úÖ Registrar horas trabalhadas com data/hora/atividade
- ‚úÖ Visualizar hist√≥rico completo de horas
- ‚úÖ Acompanhar status de aprova√ß√£o de horas
- ‚úÖ Receber avalia√ß√µes de desempenho

**Menu Adicional:**
```
‚è∞ Registrar Horas
üìã Meus Registros de Horas
‚≠ê Minhas Avalia√ß√µes
```

### 3Ô∏è‚É£ Professor (Coordenador/Supervisor)
**Funcionalidades:**
- ‚úÖ Publicar e gerenciar vagas de monitoria
- ‚úÖ Avaliar candidatos (aprovar/rejeitar/entrevista)
- ‚úÖ Validar registros de horas dos monitores
- ‚úÖ Avaliar desempenho de monitores
- ‚úÖ Gerar relat√≥rios de candidatos e monitores
- ‚úÖ Gerenciar turmas de monitoria

**Menu Adicional:**
```
üì¢ Minhas Vagas
‚úÖ Avaliar Candidatos
üë• Aprovar Monitores
‚è±Ô∏è Validar Horas
üìö Minhas Monitorias
üéì Turmas
üìä Relat√≥rio de Candidatos
üìà Relat√≥rio de Monitores
```

### 4Ô∏è‚É£ Admin (Departamento/Gest√£o)
**Funcionalidades:**
- ‚úÖ Acesso completo a todas as funcionalidades
- ‚úÖ Gerenciar todos os usu√°rios do sistema
- ‚úÖ Processar pagamentos de monitores
- ‚úÖ Acessar painel administrativo Django
- ‚úÖ Gerar relat√≥rios gerenciais completos
- ‚úÖ Configurar cursos, disciplinas e salas
- ‚úÖ Visualizar estat√≠sticas gerais do sistema

**Menu Completo:**
```
üè¢ Dashboard Gest√£o
üí∞ Pagamentos
üë• Gerenciar Usu√°rios
üéì Gerenciar Alunos
üìö Cursos e Disciplinas
üìä Todos os Relat√≥rios
‚öôÔ∏è Configura√ß√µes
```

---

## üîë Credenciais de Teste

### Login como Aluno

```
Username: aluno.teste
Email: aluno.teste@casa.com
Senha: aluno123
Grupo: Aluno
```

### Login como Monitor

```
Username: monitor.teste
Email: monitor.teste@casa.com
Senha: monitor123
Grupo: Monitor
```

### Login como Professor

```
Username: professor.teste
Email: professor.teste@casa.com
Senha: professor123
Grupo: Professor
```

### Login como Admin

```
Username: admin
Email: admin@casa.com
Senha: admin
is_staff: True
is_superuser: True
```

---

## ÔøΩÔ∏è Instala√ß√£o e Configura√ß√£o

### Pr√©-requisitos

- **Python 3.10+** instalado
- **Git** instalado
- **pip** (gerenciador de pacotes Python)
- **PostgreSQL** (opcional, para produ√ß√£o)
- Conta no **Heroku** (para deploy em produ√ß√£o)

### üì¶ Instala√ß√£o Local - M√©todo 1 (Script Autom√°tico)

O m√©todo mais r√°pido e f√°cil para iniciar o sistema localmente:

```bash
# 1. Clone o reposit√≥rio
git clone https://github.com/Projetos-de-Extensao/PBE_25.2_8001_IV.git
cd PBE_25.2_8001_IV

# 2. Execute o script de inicializa√ß√£o
python3 iniciar.py
```

**O que o script faz automaticamente:**
- ‚úÖ Cria ambiente virtual Python
- ‚úÖ Instala todas as depend√™ncias necess√°rias
- ‚úÖ Aplica migra√ß√µes do banco de dados
- ‚úÖ Coleta arquivos est√°ticos
- ‚úÖ Cria superusu√°rio admin (admin/admin)
- ‚úÖ Inicia servidor em http://localhost:8000

### üì¶ Instala√ß√£o Local - M√©todo 2 (Manual)

Se preferir controle total sobre cada etapa:

```bash
# 1. Clone o reposit√≥rio
git clone https://github.com/Projetos-de-Extensao/PBE_25.2_8001_IV.git
cd PBE_25.2_8001_IV

# 2. Crie e ative o ambiente virtual
python3 -m venv .venv

# No Linux/Mac:
source .venv/bin/activate

# No Windows:
.venv\Scripts\activate

# 3. Instale as depend√™ncias
pip install -r requirements.txt

# 4. Entre na pasta do projeto Django
cd meuprojeto

# 5. Configure vari√°veis de ambiente (opcional para local)
cp .env.example .env
# Edite o arquivo .env se necess√°rio

# 6. Execute as migra√ß√µes
python manage.py makemigrations
python manage.py migrate

# 7. Crie superusu√°rio
python manage.py createsuperuser
# Username: admin
# Email: admin@casa.com
# Password: admin

# 8. Colete arquivos est√°ticos
python manage.py collectstatic --noinput

# 9. Popule dados de teste (opcional)
python popular_dados_teste.py

# 10. Inicie o servidor
python manage.py runserver
```

### üåê URLs Locais Dispon√≠veis

Ap√≥s iniciar o servidor, acesse:

| URL | Descri√ß√£o |
|-----|-----------|
| http://localhost:8000/ | P√°gina inicial |
| http://localhost:8000/login/ | Login no sistema |
| http://localhost:8000/admin/ | Painel administrativo Django |
| http://localhost:8000/api/ | API Root (DRF) |
| http://localhost:8000/restapi/ | Documenta√ß√£o Swagger (interativa) |
| http://localhost:8000/redoc/ | Documenta√ß√£o ReDoc (visual) |
| http://localhost:8000/portal-vagas/ | Portal de vagas p√∫blico |

---

## üöÄ Deploy no Heroku

### Passo 1: Preparar o Projeto

```bash
# 1. Instale a CLI do Heroku
# Mac: brew install heroku/brew/heroku
# Windows/Linux: https://devcenter.heroku.com/articles/heroku-cli

# 2. Fa√ßa login no Heroku
heroku login

# 3. Crie um novo app no Heroku
heroku create plataformacasa
# Ou use um nome personalizado: heroku create seu-nome-app
```

### Passo 2: Configurar PostgreSQL

```bash
# Adicione PostgreSQL ao app Heroku
heroku addons:create heroku-postgresql:mini --app plataformacasa

# Verifique a vari√°vel DATABASE_URL criada
heroku config --app plataformacasa
```

### Passo 3: Configurar Vari√°veis de Ambiente

```bash
# Configure as vari√°veis de ambiente essenciais
heroku config:set SECRET_KEY="sua-chave-secreta-super-segura-aqui" --app plataformacasa
heroku config:set DEBUG=False --app plataformacasa
heroku config:set ALLOWED_HOSTS=plataformacasa-a2a3d2abfd5e.herokuapp.com --app plataformacasa
heroku config:set CSRF_TRUSTED_ORIGINS=https://plataformacasa-a2a3d2abfd5e.herokuapp.com --app plataformacasa
heroku config:set CORS_ALLOWED_ORIGINS=https://plataformacasa-a2a3d2abfd5e.herokuapp.com --app plataformacasa

# Para permitir requisi√ß√µes de qualquer origem (API p√∫blica)
heroku config:set CORS_ALLOW_ALL_ORIGINS=True --app plataformacasa

# Outras configura√ß√µes opcionais
heroku config:set DJANGO_SETTINGS_MODULE=meuprojeto.settings --app plataformacasa
heroku config:set WEB_CONCURRENCY=2 --app plataformacasa
```

### Passo 4: Adicionar Remote do Heroku

```bash
# Adicione o Heroku como remote Git
heroku git:remote --app plataformacasa

# Verifique os remotes configurados
git remote -v
# Deve mostrar:
# heroku  https://git.heroku.com/plataformacasa.git (fetch)
# heroku  https://git.heroku.com/plataformacasa.git (push)
# origin  https://github.com/Projetos-de-Extensao/PBE_25.2_8001_IV.git (fetch)
# origin  https://github.com/Projetos-de-Extensao/PBE_25.2_8001_IV.git (push)
```

### Passo 5: Deploy

```bash
# 1. Commit todas as mudan√ßas
git add .
git commit -m "Deploy inicial no Heroku"

# 2. Push para o Heroku
git push heroku main

# Ou se estiver em outra branch:
git push heroku sua-branch:main
```

### Passo 6: Executar Migra√ß√µes e Criar Superusu√°rio

```bash
# 1. Execute as migra√ß√µes no Heroku
heroku run "cd meuprojeto && python manage.py migrate" --app plataformacasa

# 2. Crie o superusu√°rio (modo interativo)
heroku run "cd meuprojeto && python manage.py createsuperuser" --app plataformacasa

# Ou use vari√°veis de ambiente para criar automaticamente
heroku run "cd meuprojeto && python manage.py shell -c \"
from django.contrib.auth.models import User
if not User.objects.filter(username='admin').exists():
    User.objects.create_superuser('admin', 'admin@casa.com', 'admin123')
    print('Superusu√°rio criado')
\"" --app plataformacasa

# 3. Colete arquivos est√°ticos (j√° √© feito automaticamente no build)
heroku run "cd meuprojeto && python manage.py collectstatic --noinput" --app plataformacasa

# 4. Popule dados de teste (opcional)
heroku run "cd meuprojeto && python popular_dados_teste.py" --app plataformacasa
```

### Passo 7: Verificar Deploy

```bash
# Abra o app no navegador
heroku open --app plataformacasa

# Verifique os logs em tempo real
heroku logs --tail --app plataformacasa

# Verifique o status do app
heroku ps --app plataformacasa

# Verifique vari√°veis de ambiente
heroku config --app plataformacasa
```

### üîß Configura√ß√µes Importantes no Heroku

#### Arquivo `Procfile` (na raiz do projeto)
```
web: cd meuprojeto && gunicorn meuprojeto.wsgi --log-file -
```

#### Arquivo `runtime.txt` (na raiz do projeto)
```
python-3.10.12
```

#### Arquivo `requirements.txt` (principais depend√™ncias)
```txt
Django>=5.0
djangorestframework>=3.15
django-cors-headers>=4.0
drf-yasg>=1.21
gunicorn>=20.1
whitenoise>=6.8
psycopg2-binary>=2.9
python-decouple>=3.8
dj-database-url>=2.0
Pillow>=10.0
```

### üõ†Ô∏è Comandos √öteis do Heroku

```bash
# Ver logs do app
heroku logs --tail --app plataformacasa

# Reiniciar o app
heroku restart --app plataformacasa

# Executar comandos no Heroku
heroku run bash --app plataformacasa
heroku run "cd meuprojeto && python manage.py shell" --app plataformacasa

# Verificar status das migra√ß√µes
heroku run "cd meuprojeto && python manage.py showmigrations" --app plataformacasa

# Escalar dynos (workers)
heroku ps:scale web=1 --app plataformacasa

# Abrir console do PostgreSQL
heroku pg:psql --app plataformacasa

# Backup do banco de dados
heroku pg:backups:capture --app plataformacasa
heroku pg:backups:download --app plataformacasa
```

### üîÑ Atualiza√ß√µes Ap√≥s o Deploy Inicial

```bash
# 1. Fa√ßa suas mudan√ßas no c√≥digo
# 2. Commit
git add .
git commit -m "Descri√ß√£o das mudan√ßas"

# 3. Push para GitHub
git push origin main

# 4. Push para Heroku
git push heroku main

# 5. Se houver novas migra√ß√µes
heroku run "cd meuprojeto && python manage.py migrate" --app plataformacasa

# 6. Reinicie se necess√°rio
heroku restart --app plataformacasa
```

### üåê URLs em Produ√ß√£o (Heroku)

Ap√≥s o deploy bem-sucedido, seu sistema estar√° dispon√≠vel em:

| URL | Descri√ß√£o |
|-----|-----------|
| https://plataformacasa-a2a3d2abfd5e.herokuapp.com/ | P√°gina inicial |
| https://plataformacasa-a2a3d2abfd5e.herokuapp.com/admin/ | Painel administrativo |
| https://plataformacasa-a2a3d2abfd5e.herokuapp.com/api/ | API Root |
| https://plataformacasa-a2a3d2abfd5e.herokuapp.com/restapi/ | Swagger UI |
| https://plataformacasa-a2a3d2abfd5e.herokuapp.com/redoc/ | ReDoc |

---

## 4Ô∏è‚É£ API REST Completa

### üì° Vis√£o Geral da API

A Plataforma CASA oferece uma **API REST completa e documentada** que permite integra√ß√£o com sistemas externos, desenvolvimento de aplicativos mobile, e automa√ß√£o de processos.

**Caracter√≠sticas da API:**
- ‚úÖ **RESTful** - Seguindo padr√µes REST
- ‚úÖ **Documenta√ß√£o Interativa** - Swagger UI e ReDoc
- ‚úÖ **P√∫blica** - Sem autentica√ß√£o necess√°ria (configur√°vel)
- ‚úÖ **CORS Habilitado** - Acess√≠vel de qualquer origem
- ‚úÖ **Pagina√ß√£o** - Resultados paginados automaticamente
- ‚úÖ **Filtros e Busca** - Endpoints com filtros avan√ßados
- ‚úÖ **Versionada** - Suporte para m√∫ltiplas vers√µes

### üåê URLs da API

#### Local (Desenvolvimento)
```
Base URL:        http://localhost:8000
API Root:        http://localhost:8000/api/
Swagger UI:      http://localhost:8000/restapi/
ReDoc:           http://localhost:8000/redoc/
```

#### Produ√ß√£o (Heroku)
```
Base URL:        https://plataformacasa-a2a3d2abfd5e.herokuapp.com
API Root:        https://plataformacasa-a2a3d2abfd5e.herokuapp.com/api/
Swagger UI:      https://plataformacasa-a2a3d2abfd5e.herokuapp.com/restapi/
ReDoc:           https://plataformacasa-a2a3d2abfd5e.herokuapp.com/redoc/
```

### üìö Endpoints Principais

#### **Gest√£o de Usu√°rios**
- `GET /api/tipos-usuario/` - Listar tipos de usu√°rio
- `GET /api/usuarios/` - Listar usu√°rios
- `GET /api/funcionarios/` - Listar funcion√°rios (professores)
- `GET /api/alunos/` - Listar alunos
- `GET /api/alunos/monitores/` - Listar apenas monitores

#### **Gest√£o Acad√™mica**
- `GET /api/cursos/` - Listar cursos
- `GET /api/disciplinas/` - Listar disciplinas
- `GET /api/disciplinas/por_curso/?curso_id=1` - Disciplinas por curso
- `GET /api/salas/` - Listar salas

#### **Vagas de Monitoria**
- `GET /api/vagas/` - Listar todas as vagas
- `GET /api/vagas/ativas/` - Listar vagas ativas
- `GET /api/vagas/por_curso/?curso_id=1` - Vagas por curso
- `POST /api/vagas/` - Criar nova vaga
- `GET /api/vagas/{id}/inscricoes/` - Inscri√ß√µes de uma vaga
- `POST /api/vagas/{id}/adicionar_coordenador/` - Adicionar coordenador

#### **Inscri√ß√µes**
- `GET /api/inscricoes/` - Listar inscri√ß√µes
- `POST /api/inscricoes/` - Criar inscri√ß√£o
- `GET /api/inscricoes/por_status/?status=Pendente` - Filtrar por status
- `POST /api/inscricoes/{id}/aprovar/` - Aprovar inscri√ß√£o
- `POST /api/inscricoes/{id}/rejeitar/` - Rejeitar inscri√ß√£o

#### **Turmas e Participa√ß√µes**
- `GET /api/turmas/` - Listar turmas
- `GET /api/turmas/ativas/` - Turmas ativas
- `GET /api/participacoes/` - Listar participa√ß√µes
- `GET /api/participacoes/por_aluno/?aluno_id=1` - Participa√ß√µes por aluno

#### **Controle de Frequ√™ncia**
- `GET /api/presencas/` - Listar presen√ßas
- `POST /api/presencas/` - Registrar presen√ßa
- `GET /api/presencas/por_turma/?turma_id=1` - Presen√ßas por turma
- `GET /api/presencas/taxa_presenca/?aluno_id=1` - Taxa de presen√ßa

#### **Registro de Horas**
- `GET /api/registro-horas/` - Listar registros
- `POST /api/registro-horas/` - Criar registro
- `GET /api/registro-horas/pendentes/` - Registros pendentes
- `POST /api/registro-horas/{id}/aprovar/` - Aprovar horas
- `GET /api/registro-horas/total_horas_monitor/?monitor_id=1` - Total de horas

#### **Pagamentos**
- `GET /api/pagamentos/` - Listar pagamentos
- `POST /api/pagamentos/` - Criar pagamento
- `GET /api/pagamentos/pendentes/` - Pagamentos pendentes
- `POST /api/pagamentos/{id}/processar/` - Processar pagamento

#### **Materiais e Documentos**
- `GET /api/materiais/` - Listar materiais de apoio
- `POST /api/materiais/` - Upload de material
- `GET /api/documentos/` - Listar documentos
- `POST /api/documentos/` - Upload de documento

#### **Estat√≠sticas**
- `GET /api/estatisticas/geral/` - Estat√≠sticas gerais do sistema

### üíª Exemplos de Uso da API

#### **Usando cURL**

```bash
# Listar todas as vagas
curl -X GET "https://plataformacasa-a2a3d2abfd5e.herokuapp.com/api/vagas/"

# Buscar vaga espec√≠fica
curl -X GET "https://plataformacasa-a2a3d2abfd5e.herokuapp.com/api/vagas/1/"

# Criar nova vaga
curl -X POST "https://plataformacasa-a2a3d2abfd5e.herokuapp.com/api/vagas/" \
  -H "Content-Type: application/json" \
  -d '{
    "nome": "Monitor de Python",
    "curso": 1,
    "disciplina": 1,
    "tipo_vaga": "TEA",
    "valor_bolsa": 1500.00,
    "numero_vagas": 2,
    "ativo": true
  }'

# Aprovar inscri√ß√£o
curl -X POST "https://plataformacasa-a2a3d2abfd5e.herokuapp.com/api/inscricoes/1/aprovar/"
```

#### **Usando Python (requests)**

```python
import requests

BASE_URL = "https://plataformacasa-a2a3d2abfd5e.herokuapp.com/api"

# Listar todas as vagas
response = requests.get(f"{BASE_URL}/vagas/")
vagas = response.json()
print(f"Total de vagas: {len(vagas)}")

# Buscar vagas ativas
response = requests.get(f"{BASE_URL}/vagas/ativas/")
vagas_ativas = response.json()

# Criar nova inscri√ß√£o
nova_inscricao = {
    "vaga": 1,
    "aluno": 5,
    "status": "Pendente"
}
response = requests.post(f"{BASE_URL}/inscricoes/", json=nova_inscricao)
print(response.json())

# Registrar horas trabalhadas
registro_horas = {
    "turma": 1,
    "monitor": 5,
    "data": "2025-10-31",
    "hora_inicio": "14:00:00",
    "hora_fim": "18:00:00",
    "total_horas": 4.0,
    "atividade": "Monitoria de exerc√≠cios",
    "status": "Pendente"
}
response = requests.post(f"{BASE_URL}/registro-horas/", json=registro_horas)
```

#### **Usando JavaScript (Fetch)**

```javascript
const BASE_URL = "https://plataformacasa-a2a3d2abfd5e.herokuapp.com/api";

// Listar vagas
fetch(`${BASE_URL}/vagas/`)
  .then(response => response.json())
  .then(data => console.log(data));

// Criar inscri√ß√£o
fetch(`${BASE_URL}/inscricoes/`, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    vaga: 1,
    aluno: 5,
    status: "Pendente"
  })
})
  .then(response => response.json())
  .then(data => console.log(data));

// Aprovar inscri√ß√£o
fetch(`${BASE_URL}/inscricoes/1/aprovar/`, {
  method: 'POST'
})
  .then(response => response.json())
  .then(data => console.log(data));
```

### üìñ Documenta√ß√£o Completa da API

Para documenta√ß√£o detalhada de todos os endpoints, par√¢metros, exemplos e schemas:

- **Swagger UI (Interativo):** [https://plataformacasa-a2a3d2abfd5e.herokuapp.com/restapi/](https://plataformacasa-a2a3d2abfd5e.herokuapp.com/restapi/)
  - Permite testar endpoints diretamente no navegador
  - Exemplos de requisi√ß√µes e respostas
  - Download de especifica√ß√£o OpenAPI

- **ReDoc (Visual):** [https://plataformacasa-a2a3d2abfd5e.herokuapp.com/redoc/](https://plataformacasa-a2a3d2abfd5e.herokuapp.com/redoc/)
  - Documenta√ß√£o visual limpa e organizada
  - Busca por endpoints
  - Melhor para leitura e compreens√£o

- **Arquivo de Documenta√ß√£o:** `aqui-a-api-john-api.md`
  - Documenta√ß√£o completa em Markdown
  - Exemplos de uso em m√∫ltiplas linguagens
  - Casos de uso pr√°ticos

---

## ‚öôÔ∏è Funcionalidades Implementadas

---

## Design System - Cores Institucionais

Eu implementei um sistema de cores baseado em cores institucionais:

```css
--color-primary-dark: #002555      /* Azul escuro */
--color-primary-light: #1245FF     /* Azul claro */
--color-accent: #F5AC00            /* Amarelo */
--color-success: #28a745           /* Verde */
--color-danger: #dc3545            /* Vermelho */
--color-warning: #ffc107           /* Amarelo de aviso */
--color-gray-light: #f8f9fa        /* Cinza claro */
--color-gray-border: #e9ecef       /* Cinza de borda */
--color-text-muted: #6c757d        /* Cinza de texto */
```

**Caracter√≠sticas do Design:**

- Sem gradientes pesados (design minimalista)
- Sombras sutis apenas no hover
- Espa√ßamento generoso
- Bordas finas (1px)
- Typography clara e leg√≠vel

---

## ‚öôÔ∏è Funcionalidades Principais do Sistema

### 1. üéØ Portal de Vagas

- Grid responsivo de cards com vagas
- Modal de detalhes quando clica "Detalhes"
- Bot√£o "Candidatar-se" funcional
- Indicador visual de vagas dispon√≠veis/esgotadas

### 2. Formul√°rio de Candidatura

- Upload de 3 documentos (Hist√≥rico, Curr√≠culo, Carta)
- Valida√ß√£o de extens√µes (PDF, DOC, DOCX)
- Aceita√ß√£o de termos obrigat√≥ria
- Prote√ß√£o CSRF autom√°tica

### 3. Sistema de Avalia√ß√£o de Candidatos

- Lista de candidatos por vaga com estat√≠sticas
- Perfil completo do candidato com documentos
- Bot√µes de status clic√°veis
- Formul√°rio de avalia√ß√£o com nota e coment√°rio

### 4. Registro e Valida√ß√£o de Horas

- Formul√°rio para registrar horas com data/hora
- C√°lculo autom√°tico de dura√ß√£o
- Status: Pendente ‚Üí Aprovado/Rejeitado
- Valida√ß√£o por professor

### 5. Sistema de Pagamentos

- Valor fixo: R$ 1.500 por semestre
- 4 status: Pendente, Processando, Pago, Cancelado
- Interface de gerenciamento de pagamentos
- Hist√≥rico de processamentos

### 6. Relat√≥rios Profissionais

- **Candidatos por Vaga**: Tabela com status, documentos, CR
- **Monitores Selecionados**: KPI cards, gr√°ficos, distribui√ß√£o por curso
- **Horas Trabalhadas**: KPI cards, gr√°ficos, timeline

**Exporta√ß√µes:**

- PDF com layout profissional (jsPDF)
- Excel com m√∫ltiplas abas (XLSX)
- Impress√£o com CSS media print

---

## Autentica√ß√£o Custom

backend que permite login com **email OU username**:

```python
class EmailOrUsernameModelBackend(ModelBackend):
    def authenticate(self, request, username=None, password=None, **kwargs):
        try:
            user = User.objects.get(username=username)
        except User.DoesNotExist:
            try:
                user = User.objects.get(email=username)
            except User.DoesNotExist:
                return None
      
        if user.check_password(password) and self.user_can_authenticate(user):
            return user
        return None
```

---

## Como Testar o Sistema

### 1. Iniciar Servidor

```bash
cd /Users/anderson/my_folders/repositoriolocal/PBE_25.2_8001_IV/meuprojeto
python manage.py runserver
```

Acesse: **http://localhost:8000/login/**

### 2. Testar como Aluno

```
Username: aluno.teste
Senha: aluno123
```

**A√ß√µes:**

- Ver Portal de Vagas
- Clicar "Detalhes" para ver modal
- Candidatar-se a uma vaga (upload documentos)
- Ver "Minhas Inscri√ß√µes" (status)

### 3. Testar como Professor

```
Username: professor.teste
Senha: professor123
```

**A√ß√µes:**

- Ver "Minhas Vagas"
- Clicar numa vaga para ver candidatos
- Usar bot√µes de status
- Avaliar candidato com nota e coment√°rio
- Validar horas de monitores

### 4. Testar como Monitor

```
Username: monitor.teste
Senha: monitor123
```

**A√ß√µes:**

- "Registrar Horas" (data, hora, atividade)
- "Meus Registros" (ver hist√≥rico)
- Ver status dos registros

### 5. Testar como Admin

```
Username: admin
Senha: admin
```

**A√ß√µes:**

- http://localhost:8000/admin/ (painel administrativo)
- "Dashboard Gest√£o" (m√©tricas)
- "Pagamentos" (processar)
- Gerar relat√≥rios em PDF/Excel

### 6. Testar Relat√≥rios

```
http://localhost:8000/relatorios/candidatos-vaga/
http://localhost:8000/relatorios/monitores-selecionados/
http://localhost:8000/relatorios/horas-trabalhadas/
```

**A√ß√µes:**

- Exportar PDF
- Exportar Excel
- Imprimir

---

## üìä Dados de Teste Inclusos

**Usu√°rios:**

- 1 Admin (superuser)
- 1 Aluno de teste
- 1 Professor de teste
- 1 Monitor de teste

**Vagas:**

- 11 vagas com diferentes disciplinas
- Mix de vagas com vagas dispon√≠veis e esgotadas

**Inscri√ß√µes:**

- 81 inscri√ß√µes testando diferentes status
- Alguns aprovados, alguns pendentes, alguns rejeitados

**Horas:**

- 20 registros de horas
- Mix de status (pendente, aprovado, rejeitado)

**Pagamentos:**

- 4 pagamentos processados
- Diferentes status (pendente, pago, cancelado)

**Avalia√ß√µes:**

- 8 avalia√ß√µes de monitores
- Diferentes notas e coment√°rios

---

## Recursos Principais

**Autentica√ß√£o:** Email ou Username login
**Permiss√µes:** 4 perfis com menus personalizados
**Candidaturas:** Upload de documentos com valida√ß√£o
**Avalia√ß√£o:** Sistema de status clic√°vel AJAX
**Horas:** Registro com c√°lculo autom√°tico
**Pagamentos:** Sistema fixo R$ 1.500/semestre
**Relat√≥rios:** PDF/Excel/Print
**Design:** Cores institucionais, responsivo, minimalista
**Seguran√ßa:** CSRF, prote√ß√£o SQL injection, valida√ß√µes
**Performance:** Otimiza√ß√µes com select_related, prefetch_related

---

## üé® Design System

### Paleta de Cores Institucionais

```css
/* Cores Prim√°rias */
--color-primary-dark: #002555      /* Azul escuro IBMEC */
--color-primary-light: #1245FF     /* Azul claro institucional */
--color-accent: #F5AC00            /* Amarelo destaque */

/* Cores de Status */
--color-success: #28a745           /* Verde - Aprovado */
--color-danger: #dc3545            /* Vermelho - Rejeitado */
--color-warning: #ffc107           /* Amarelo - Pendente */
--color-info: #17a2b8              /* Azul claro - Informa√ß√£o */

/* Cores Neutras */
--color-gray-light: #f8f9fa        /* Cinza claro - Background */
--color-gray-border: #e9ecef       /* Cinza - Bordas */
--color-text-muted: #6c757d        /* Cinza - Texto secund√°rio */
```

### Princ√≠pios de Design

- ‚úÖ **Minimalista** - Design limpo sem elementos desnecess√°rios
- ‚úÖ **Responsivo** - Funciona em desktop, tablet e mobile
- ‚úÖ **Acess√≠vel** - Contraste adequado e navega√ß√£o por teclado
- ‚úÖ **Consistente** - Padr√µes visuais uniformes
- ‚úÖ **Intuitivo** - Interface clara e f√°cil de usar

---

## üîê Seguran√ßa

### Medidas Implementadas

1. **Autentica√ß√£o**
   - Login com email ou username
   - Senhas hasheadas com PBKDF2
   - Prote√ß√£o contra for√ßa bruta

2. **Autoriza√ß√£o**
   - Sistema de permiss√µes por perfil
   - Controle de acesso baseado em grupos
   - Verifica√ß√£o de propriedade de recursos

3. **Prote√ß√£o CSRF**
   - Tokens CSRF em todos os formul√°rios
   - Valida√ß√£o autom√°tica pelo Django

4. **Prote√ß√£o SQL Injection**
   - ORM do Django para queries
   - Valida√ß√£o de entrada de dados

5. **Headers de Seguran√ßa**
   - X-Frame-Options
   - X-Content-Type-Options
   - Strict-Transport-Security (HTTPS)

6. **Valida√ß√µes**
   - Valida√ß√£o de tipos de arquivo (upload)
   - Sanitiza√ß√£o de entrada de usu√°rio
   - Limita√ß√£o de tamanho de arquivos

---

## üìä Dados de Teste

O sistema inclui dados de teste populados automaticamente:

### Usu√°rios de Teste
- **1 Admin** - Acesso completo ao sistema
- **3 Professores** - Podem criar vagas e avaliar
- **10 Alunos** - Podem se candidatar
- **5 Monitores** - Alunos aprovados que registram horas

### Dados Acad√™micos
- **5 Cursos** - Engenharia, Ci√™ncias, etc.
- **20 Disciplinas** - Distribu√≠das pelos cursos
- **11 Vagas** - Mix de ativas e preenchidas
- **5 Salas** - Locais de monitoria

### Registros
- **81 Inscri√ß√µes** - Diferentes status
- **20 Registros de Horas** - Aprovados e pendentes
- **4 Pagamentos** - Hist√≥rico de pagamentos
- **8 Avalia√ß√µes** - Feedback de monitores

---

## üß™ Testes

### Como Testar o Sistema

#### 1. **Testar como Aluno**
```bash
# Login: aluno.teste / aluno123
```
- [ ] Ver portal de vagas
- [ ] Abrir modal de detalhes da vaga
- [ ] Candidatar-se com upload de documentos
- [ ] Ver minhas inscri√ß√µes e status

#### 2. **Testar como Professor**
```bash
# Login: professor.teste / professor123
```
- [ ] Criar nova vaga de monitoria
- [ ] Ver candidatos de uma vaga
- [ ] Aprovar/Rejeitar candidatos
- [ ] Validar horas registradas
- [ ] Gerar relat√≥rios

#### 3. **Testar como Monitor**
```bash
# Login: monitor.teste / monitor123
```
- [ ] Registrar horas trabalhadas
- [ ] Ver hist√≥rico de registros
- [ ] Verificar status de aprova√ß√£o
- [ ] Ver avalia√ß√µes recebidas

#### 4. **Testar como Admin**
```bash
# Login: admin / admin
```
- [ ] Acessar painel administrativo (/admin/)
- [ ] Gerenciar usu√°rios
- [ ] Processar pagamentos
- [ ] Ver dashboard de gest√£o
- [ ] Exportar relat√≥rios (PDF/Excel)

#### 5. **Testar API**
```bash
# Acesse o Swagger UI
http://localhost:8000/restapi/
```
- [ ] Testar endpoints GET
- [ ] Testar cria√ß√£o de recursos (POST)
- [ ] Testar atualiza√ß√£o (PUT/PATCH)
- [ ] Verificar filtros e busca

---

## üìà Performance

### Otimiza√ß√µes Implementadas

1. **Database Queries**
   - `select_related()` para ForeignKeys
   - `prefetch_related()` para ManyToMany
   - √çndices em campos frequentemente consultados

2. **Arquivos Est√°ticos**
   - WhiteNoise para servir est√°ticos
   - Compress√£o de arquivos CSS/JS
   - Cache de arquivos est√°ticos

3. **Caching**
   - Cache de sess√£o no banco
   - Cache de templates compilados

4. **Frontend**
   - Minifica√ß√£o de CSS/JS
   - Lazy loading de imagens
   - Carregamento ass√≠ncrono

---

## üì± Responsividade

O sistema √© totalmente responsivo e funciona em:

- üíª **Desktop** (1920x1080 e acima)
- üíª **Laptop** (1366x768)
- üì± **Tablet** (768x1024)
- üì± **Mobile** (375x667 e acima)

### Breakpoints

```css
/* Mobile First */
@media (min-width: 576px) { /* SM */ }
@media (min-width: 768px) { /* MD */ }
@media (min-width: 992px) { /* LG */ }
@media (min-width: 1200px) { /* XL */ }
@media (min-width: 1400px) { /* XXL */ }
```

---

## üêõ Troubleshooting

### Problemas Comuns e Solu√ß√µes

#### 1. **Erro ao instalar depend√™ncias**
```bash
# Atualize o pip
pip install --upgrade pip

# Instale com --no-cache
pip install --no-cache-dir -r requirements.txt
```

#### 2. **Erro de migra√ß√£o**
```bash
# Delete o banco local e recrie
rm meuprojeto/db.sqlite3
python meuprojeto/manage.py migrate
```

#### 3. **Arquivos est√°ticos n√£o carregam**
```bash
# Colete novamente
python meuprojeto/manage.py collectstatic --noinput --clear
```

#### 4. **Erro no Heroku "Application Error"**
```bash
# Veja os logs
heroku logs --tail --app plataformacasa

# Verifique vari√°veis de ambiente
heroku config --app plataformacasa

# Reinicie o app
heroku restart --app plataformacasa
```

#### 5. **CORS Error na API**
```bash
# Verifique se CORS est√° habilitado
heroku config:get CORS_ALLOW_ALL_ORIGINS --app plataformacasa

# Se n√£o estiver, configure
heroku config:set CORS_ALLOW_ALL_ORIGINS=True --app plataformacasa
```

#### 6. **CSS do Admin Django quebrado**
```bash
# Verifique WhiteNoise no settings.py
# Deve estar em MIDDLEWARE logo ap√≥s SecurityMiddleware

# Colete est√°ticos novamente
heroku run "cd meuprojeto && python manage.py collectstatic --noinput" --app plataformacasa
```

---

## üîÑ Roadmap e Pr√≥ximas Etapas

### ‚úÖ Implementado (v1.0)

- [x] Sistema de autentica√ß√£o completo
- [x] 4 perfis de usu√°rio com permiss√µes
- [x] Portal de vagas e inscri√ß√µes
- [x] Registro e valida√ß√£o de horas
- [x] Sistema de pagamentos
- [x] Relat√≥rios em PDF e Excel
- [x] API REST completa
- [x] Documenta√ß√£o Swagger/ReDoc
- [x] Deploy no Heroku
- [x] Banco PostgreSQL em produ√ß√£o

### üöß Em Desenvolvimento (v1.1)

- [ ] Dashboard com gr√°ficos avan√ßados

### üîÆ Futuro (v2.0)

- [ ] Aplicativo mobile (React Native)
- [ ] Integra√ß√£o com Power BI
- [ ] Cache com Redis
- [ ] Testes automatizados (pytest)
- [ ] CI/CD com GitHub Actions
- [ ] Dark Mode
- [ ] Relat√≥rios agendados
- [ ] Sistema de gamifica√ß√£o
- [ ] Integra√ß√£o com sistemas acad√™micos
- [ ] Machine Learning para matching

---

## üìû Suporte e Contato

### Reportar Bugs
- **GitHub Issues:** [https://github.com/Projetos-de-Extensao/PBE_25.2_8001_IV/issues](https://github.com/Projetos-de-Extensao/PBE_25.2_8001_IV/issues)

### Documenta√ß√£o Adicional
- **API Completa:** `aqui-a-api-john-api.md`
- **Swagger UI:** [https://plataformacasa-a2a3d2abfd5e.herokuapp.com/restapi/](https://plataformacasa-a2a3d2abfd5e.herokuapp.com/restapi/)
- **ReDoc:** [https://plataformacasa-a2a3d2abfd5e.herokuapp.com/redoc/](https://plataformacasa-a2a3d2abfd5e.herokuapp.com/redoc/)

---


**Status:** ‚úÖ Em Produ√ß√£o  
**Deploy:** [https://plataformacasa-a2a3d2abfd5e.herokuapp.com](https://plataformacasa-a2a3d2abfd5e.herokuapp.com)

---
